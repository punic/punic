sudo: false

language: php

notifications:
  email: false

branches:
  only:
  - master

cache:
  directories:
  - $HOME/.composer/cache

env:
  global:
  - secure: View3+Nu0F+dkCu09UtRX1XHTGyuT1P1yCUMoQXIHdCZS4/SV/ljxncAu3utt8Ynw4lEcey45Up6TXgRbsct7Ky/kPtBVFk6Sou9L3ULgZkvnExlBjEj/KP6O/LXM8VuvEwQLKmFmYFe3p+hmEfcPu3Qh5TkIkNf0PTpryaW28M=
  - DO_TESTS=1
  - DO_UPDATEAPI=0
  - DO_CODINGSTYLE=0

php:
- 5.4
- 5.5
- 5.6
- 7.0
- 7.2
- 7.3
- hhvm
- nightly

matrix:
  allow_failures:
  - php: nightly
  include:
  - php: 5.3
    dist: precise
  - php: 7.1
    env:
    - DO_TESTS=2
  - php: 7.1
    env:
    - DO_CODINGSTYLE=1
    - DO_UPDATEAPI=1

before_script:
- ./.travis/before_script.sh

script:
- ./.travis/script.sh

after_success:
- ./.travis/after_success.sh
